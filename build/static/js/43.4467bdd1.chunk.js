"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[43],{5006:function(e,n,t){t(2791);var a=t(2469),r=t(184);n.Z=function(e){var n=e.variant,t=e.children,o=e.className;return(0,r.jsx)(a.Z,{variant:n,className:"".concat(o),children:t})}},6165:function(e,n,t){var a=t(184);n.Z=function(e){var n=e.style;return(0,a.jsx)("div",{className:"arrow-icon",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",style:n,children:(0,a.jsx)("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128z",style:{fill:"var(--bs-secondary)"}})})})}},43:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var a=t(2791),r=t(7689),o=t(8152),s=t(9434),i=t(2753),l=t(7022),c=t(4165),d=t(5861),u=t(3433),m=t(9439),f=t(5006),p=t(2592),h=t(5630),g=t(3360),x=t(2677),Z=t(9743),b=t(1912),v=(t(6165),t(184)),y=function(e){var n=e.product,t=e.error,o=e.userInfo,l=e.loading,y=e.allSubCategories,j=(0,a.useState)(n.image2),C=(0,m.Z)(j,2),N=C[0],w=C[1],S=(0,a.useState)(n.image3),I=(0,m.Z)(S,2),k=I[0],L=I[1],P=(0,a.useState)(n.name),z=(0,m.Z)(P,2),D=z[0],E=z[1],G=(0,a.useState)(null),R=(0,m.Z)(G,2),A=R[0],U=R[1],q=(0,a.useState)(n.brand),M=(0,m.Z)(q,2),O=M[0],T=M[1],B=(0,a.useState)(n.description),V=(0,m.Z)(B,2),W=V[0],H=V[1],F=(0,a.useState)(n.moreDetails),J=(0,m.Z)(F,2),X=J[0],K=J[1],Q=(0,a.useState)(n.price),Y=(0,m.Z)(Q,2),$=Y[0],_=Y[1],ee=(0,a.useState)(n.discount),ne=(0,m.Z)(ee,2),te=ne[0],ae=ne[1],re=(0,a.useState)(Number(n.discount)>0),oe=(0,m.Z)(re,2),se=oe[0],ie=oe[1],le=(0,a.useState)(n.image1),ce=(0,m.Z)(le,2),de=ce[0],ue=ce[1],me=(0,a.useState)(n.countInStock),fe=(0,m.Z)(me,2),pe=fe[0],he=fe[1],ge=(0,r.s0)(),xe=(0,s.I0)(),Ze=(0,a.useState)([]),be=(0,m.Z)(Ze,2),ve=be[0],ye=be[1],je=(0,a.useState)(n.subCategory?n.subCategory.id:""),Ce=(0,m.Z)(je,2),Ne=Ce[0],we=Ce[1],Se=(0,s.v9)((function(e){return e.config})).baseURL;(0,a.useEffect)((function(){!1!==o.isAdmin&&n.user===o.id||ge("/products/".concat(n.id)),0===y.length&&xe((0,i.fV)())}),[ge,n.id,n.user,o.id,o.isAdmin,xe]);var Ie=function(){var e=(0,d.Z)((0,c.Z)().mark((function e(t){var a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.token,e.prev=1,e.next=4,b.Z.put("".concat(Se,"/products/product-image-delete/").concat(n.id),t,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(a)}});case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),U("There was a problem deleting the image, Please try again");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{children:[t&&(0,v.jsx)(f.Z,{variant:"danger",className:"mt-4",children:t}),!t&&(0,v.jsxs)(h.Z,{onSubmit:function(e){e.preventDefault();var t=(0,u.Z)(new Map(ve.map((function(e){return[e.id,e]}))).values()),a=new FormData;a.append("name",D),a.append("brand",O),a.append("description",W),a.append("moreDetails",X),a.append("price",$),a.append("discount",te),a.append("countInStock",pe),a.append("hasDiscount",se),a.append("subCategory",Ne),a.append("user",o.id),t.forEach((function(e){return a.append("image".concat(e.id),e.image)}));var r=n.id,s=o.token;xe((0,i.nM)({formData:a,token:s,id:r})),window.location.reload()},id:"register-form",className:"p-4 border-lt",style:{maxWidth:"936px",margin:"1.5rem auto"},encType:"multipart/form-data",method:"PUT",children:[(0,v.jsx)("svg",{onClick:function(){return ge(-1)},style:{display:"inline-block",cursor:"pointer",fontSize:"20px"},xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",children:(0,v.jsx)("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128z",style:{fill:"var(--bs-blue)"}})}),(0,v.jsx)("h1",{className:"font-family-secondary txt--black text-center",style:{fontSize:"3rem"},children:"Edit Product"}),A&&(0,v.jsx)(f.Z,{variant:"danger",children:A}),(0,v.jsxs)(h.Z.Group,{controlId:"name",children:[(0,v.jsx)(h.Z.Label,{className:"font-family-secondary",style:{fontSize:"1.5rem"},children:"Name"}),(0,v.jsx)(h.Z.Control,{required:!0,autoComplete:"true",type:"text",placeholder:"Enter Name",value:D,onChange:function(e){return E(e.target.value)}})]}),(0,v.jsxs)(h.Z.Group,{controlId:"brand",children:[(0,v.jsx)(h.Z.Label,{className:"font-family-secondary",style:{fontSize:"1.5rem"},children:"Brand"}),(0,v.jsx)(h.Z.Control,{required:!0,autoComplete:"true",type:"text",placeholder:"Enter Brand",value:O,onChange:function(e){return T(e.target.value)}})]}),(0,v.jsxs)(h.Z.Group,{controlId:"sub-categories",children:[(0,v.jsx)(h.Z.Label,{className:"font-family-secondary",style:{fontSize:"1.5rem"},children:"Sub Category"}),(0,v.jsxs)(h.Z.Select,{required:!0,className:"mb-2",value:Ne,onChange:function(e){we(e.target.value)},children:[(0,v.jsx)("option",{children:"-----------"}),n.subCategory&&(0,v.jsx)("option",{disabled:!0,children:"Was set to ".concat(n.subCategory.name)}),y.map((function(e){return(0,v.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),(0,v.jsxs)(h.Z.Group,{controlId:"description",children:[(0,v.jsx)(h.Z.Label,{className:"font-family-secondary",style:{fontSize:"1.5rem"},children:"Description"}),(0,v.jsx)(h.Z.Control,{required:!0,maxLength:355,autoComplete:"true",as:"textarea",placeholder:"Description",value:W,onChange:function(e){return H(e.target.value)}})]}),(0,v.jsxs)(h.Z.Group,{controlId:"moreDetails",children:[(0,v.jsx)(h.Z.Label,{className:"font-family-secondary",style:{fontSize:"1.5rem"},children:"More Details"}),(0,v.jsx)(h.Z.Control,{autoComplete:"true",as:"textarea",placeholder:"More Details",value:X,onChange:function(e){return K(e.target.value)}})]}),(0,v.jsxs)(h.Z.Group,{controlId:"price",children:[(0,v.jsx)(h.Z.Label,{className:"font-family-secondary",style:{fontSize:"1.5rem"},children:"Price"}),(0,v.jsx)(h.Z.Control,{required:!0,autoComplete:"true",type:"number",placeholder:"Price",value:$,onChange:function(e){return _(e.target.value)}})]}),(0,v.jsxs)(h.Z.Group,{controlId:"countInStock",children:[(0,v.jsx)(h.Z.Label,{className:"font-family-secondary",style:{fontSize:"1.5rem"},children:"Products in Stock"}),(0,v.jsx)(h.Z.Control,{required:!0,min:0,autoComplete:"true",type:"number",placeholder:"Products in Stock",value:pe,onChange:function(e){return he(e.target.value)}})]}),(0,v.jsxs)(h.Z.Group,{controlId:"discount",children:[(0,v.jsx)(h.Z.Label,{className:"font-family-secondary",style:{fontSize:"1.5rem"},children:"Discount Number"}),(0,v.jsx)(h.Z.Control,{required:!0,min:0,max:99,autoComplete:"true",type:"number",placeholder:"A number between 0 and 99",value:te,onChange:function(e){ae(e.target.value),Number(e.target.value)>0?ie(!0):0===Number(e.target.value)&&ie(!1)}})]}),(0,v.jsxs)(h.Z.Group,{controlId:"image1",children:[(0,v.jsxs)("div",{id:"image-button-container",className:"w-100 d-flex justify-content-between mb-2",children:[(0,v.jsx)(h.Z.Label,{className:"font-family-secondary mb-2",style:{fontSize:"1.5rem"},children:"Change Image 1"}),(0,v.jsx)(g.Z,{variant:"dark-blue",style:{color:"var(--bs-secondary)"},onClick:function(){Ie({image1:!0})},children:"Delete Image 1"})]}),(0,v.jsx)(h.Z.Control,{type:"file",accept:"image/*",onChange:function(e){ye((function(n){return[].concat((0,u.Z)(n),[{id:1,image:e.target.files[0]}])})),ue(URL.createObjectURL(e.target.files[0]))}})]}),(0,v.jsxs)(h.Z.Group,{controlId:"image2",children:[(0,v.jsxs)("div",{id:"image-button-container",className:"w-100 d-flex justify-content-between mb-2",children:[(0,v.jsxs)(h.Z.Label,{className:"font-family-secondary mb-2",style:{fontSize:"1.5rem"},children:[n.image2?"Change":"Add"," Image 2"]}),(0,v.jsx)(g.Z,{variant:"dark-blue",style:{color:"var(--bs-secondary)"},onClick:function(){Ie({image2:!0})},children:"Delete Image 2"})]}),(0,v.jsx)(h.Z.Control,{type:"file",accept:"image/*",onChange:function(e){ye((function(n){return[].concat((0,u.Z)(n),[{id:2,image:e.target.files[0]}])})),w(URL.createObjectURL(e.target.files[0]))}})]}),(0,v.jsxs)(h.Z.Group,{controlId:"image3",children:[(0,v.jsxs)("div",{id:"image-button-container",className:"w-100 d-flex justify-content-between mb-2",children:[(0,v.jsxs)(h.Z.Label,{className:"font-family-secondary mb-2",style:{fontSize:"1.5rem"},children:[k?"Change":"Add"," Image 3"]}),(0,v.jsx)(g.Z,{variant:"dark-blue",style:{color:"var(--bs-secondary)"},onClick:function(){Ie({image3:!0})},children:"Delete Image 3"})]}),(0,v.jsx)(h.Z.Control,{type:"file",accept:"image/*",onChange:function(e){ye((function(n){return[].concat((0,u.Z)(n),[{id:3,image:e.target.files[0]}])})),L(URL.createObjectURL(e.target.files[0]))}})]}),(0,v.jsxs)(Z.Z,{className:"w-100 gap-4 justify-content-center",children:[de&&(0,v.jsx)(x.Z,{lg:3,xl:3,md:12,sm:12,children:(0,v.jsx)(p.Z,{fluid:!0,alt:"".concat(n.name," Image 1"),src:de,style:{width:"100%"},className:"mt-2"})}),N&&(0,v.jsx)(x.Z,{lg:3,xl:3,md:12,sm:12,children:(0,v.jsx)(p.Z,{fluid:!0,alt:"".concat(n.name," Image 2"),src:N,style:{width:"100%"},className:"mt-2"})}),k&&(0,v.jsx)(x.Z,{lg:3,xl:3,md:12,sm:12,children:(0,v.jsx)(p.Z,{fluid:!0,alt:"".concat(n.name," Image 3"),src:k,style:{width:"100%"},className:"mt-2"})})]}),(0,v.jsx)(g.Z,{variant:"primary",type:"submit",className:"w-100",style:{color:"var(--bs-secondary)"},children:l?"Loading":"Edit"})]})]})},j=function(){var e=(0,r.UO)().productId,n=(0,s.v9)((function(e){return e.products})),t=(0,s.v9)((function(e){return e.user})),c=n.product,d=n.error,u=n.loading,m=n.allSubCategories,p=t.userInfo,h=(0,s.I0)(),g=(0,r.s0)();return(0,a.useEffect)((function(){p||g("/login"),p.isAdmin&&h((0,i.MX)(e))}),[h,g,e]),(0,v.jsxs)(l.Z,{children:[u&&(0,v.jsx)(o.Z,{}),!u&&!c&&(0,v.jsx)(f.Z,{variant:"info",className:"mt-4",children:"This product doesn't exist"}),!u&&c&&(0,v.jsx)(y,{product:c,error:d,loading:u,userInfo:p,allSubCategories:m})]})}},2469:function(e,n,t){var a=t(1413),r=t(5987),o=t(1694),s=t.n(o),i=t(2791),l=t(8580),c=t(9007),d=t(6445),u=t(162),m=t(2709),f=t(473),p=t(7472),h=t(6543),g=t(184),x=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Z=(0,p.Z)("h4");Z.displayName="DivStyledAsH4";var b=(0,h.Z)("alert-heading",{Component:Z}),v=(0,h.Z)("alert-link",{Component:d.Z}),y={variant:"primary",show:!0,transition:m.Z,closeLabel:"Close alert"},j=i.forwardRef((function(e,n){var t=(0,l.Ch)(e,{show:"onClose"}),o=t.bsPrefix,i=t.show,d=t.closeLabel,p=t.closeVariant,h=t.className,Z=t.children,b=t.variant,v=t.onClose,y=t.dismissible,j=t.transition,C=(0,r.Z)(t,x),N=(0,u.vE)(o,"alert"),w=(0,c.Z)((function(e){v&&v(!1,e)})),S=!0===j?m.Z:j,I=(0,g.jsxs)("div",(0,a.Z)((0,a.Z)({role:"alert"},S?void 0:C),{},{ref:n,className:s()(h,N,b&&"".concat(N,"-").concat(b),y&&"".concat(N,"-dismissible")),children:[y&&(0,g.jsx)(f.Z,{onClick:w,"aria-label":d,variant:p}),Z]}));return S?(0,g.jsx)(S,(0,a.Z)((0,a.Z)({unmountOnExit:!0},C),{},{ref:void 0,in:i,children:I})):i?I:null}));j.displayName="Alert",j.defaultProps=y,n.Z=Object.assign(j,{Link:v,Heading:b})},7022:function(e,n,t){var a=t(1413),r=t(5987),o=t(1694),s=t.n(o),i=t(2791),l=t(162),c=t(184),d=["bsPrefix","fluid","as","className"],u=i.forwardRef((function(e,n){var t=e.bsPrefix,o=e.fluid,i=e.as,u=void 0===i?"div":i,m=e.className,f=(0,r.Z)(e,d),p=(0,l.vE)(t,"container"),h="string"===typeof o?"-".concat(o):"-fluid";return(0,c.jsx)(u,(0,a.Z)((0,a.Z)({ref:n},f),{},{className:s()(m,o?"".concat(p).concat(h):p)}))}));u.displayName="Container",u.defaultProps={fluid:!1},n.Z=u},2592:function(e,n,t){var a=t(1413),r=t(5987),o=t(1694),s=t.n(o),i=t(2791),l=t(2007),c=t.n(l),d=t(162),u=t(184),m=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],f=(c().string,c().bool,c().bool,c().bool,c().bool,i.forwardRef((function(e,n){var t=e.bsPrefix,o=e.className,i=e.fluid,l=e.rounded,c=e.roundedCircle,f=e.thumbnail,p=(0,r.Z)(e,m);return t=(0,d.vE)(t,"img"),(0,u.jsx)("img",(0,a.Z)((0,a.Z)({ref:n},p),{},{className:s()(o,i&&"".concat(t,"-fluid"),l&&"rounded",c&&"rounded-circle",f&&"".concat(t,"-thumbnail"))}))})));f.displayName="Image",f.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},n.Z=f},9743:function(e,n,t){var a=t(1413),r=t(5987),o=t(1694),s=t.n(o),i=t(2791),l=t(162),c=t(184),d=["bsPrefix","className","as"],u=i.forwardRef((function(e,n){var t=e.bsPrefix,o=e.className,i=e.as,u=void 0===i?"div":i,m=(0,r.Z)(e,d),f=(0,l.vE)(t,"row"),p=(0,l.pi)(),h=(0,l.zG)(),g="".concat(f,"-cols"),x=[];return p.forEach((function(e){var n,t=m[e];delete m[e],n=null!=t&&"object"===typeof t?t.cols:t;var a=e!==h?"-".concat(e):"";null!=n&&x.push("".concat(g).concat(a,"-").concat(n))})),(0,c.jsx)(u,(0,a.Z)((0,a.Z)({ref:n},m),{},{className:s().apply(void 0,[o,f].concat(x))}))}));u.displayName="Row",n.Z=u}}]);
//# sourceMappingURL=43.4467bdd1.chunk.js.map