"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[989],{279:function(e,n,r){r.r(n);var t=r(4165),a=r(5861),s=r(9439),i=r(2791),c=r(7689),o=r(9434),d=r(2591),l=r(7022),u=r(3360),f=r(1912),h=r(9953),v=r(5006),m=r(8152),x=r(7647),j=r(9535),p=r(2208),b=r(184);n.default=function(){var e=(0,c.s0)(),n=(0,o.v9)((function(e){return e.user})),r=(0,o.v9)((function(e){return e.orders})),Z=r.loading,y=r.error,N=(0,o.v9)((function(e){return e.config})).baseURL,g=n.userInfo,k=(0,i.useState)([]),w=(0,s.Z)(k,2),E=w[0],D=w[1],R=(0,i.useState)(null),A=(0,s.Z)(R,2),C=A[0],S=A[1],T=(0,o.I0)(),I=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.get("".concat(N,"/orders"),{headers:{Authorization:"JWT ".concat(n),"Content-Type":"application/json"}});case 3:r=e.sent,a=r.data,D(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S("There was a problem loading the orders, Make sure you have a stable internet connection");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){g&&g.isAdmin?I(g.token):e("/login")}),[g,e]),(0,b.jsxs)("div",{className:j.Z["admin-page"],children:[(0,b.jsx)("div",{className:j.Z["admin-page-left"],children:(0,b.jsx)(x.Z,{})}),(0,b.jsxs)("div",{className:j.Z["admin-page-right"],style:{paddingTop:"2rem",paddingRight:"2rem"},children:[C&&(0,b.jsx)(v.Z,{variant:"info",children:C}),y&&(0,b.jsx)(v.Z,{variant:"info",children:y}),Z&&!C&&!y&&(0,b.jsx)(m.Z,{}),!y&&!C&&!Z&&(0,b.jsxs)(l.Z,{id:"user-list__container",style:{maxWidth:"960px"},children:[(0,b.jsx)("h1",{className:"mt-4 font-family-secondary txt--black",children:"ORDERS"}),(0,b.jsxs)(d.Z,{striped:!0,responsive:!0,bordered:!0,className:"border-lt mt-4 table-dark table-hover",id:"user-list-table",style:{verticalAlign:"middle"},children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"ID"}),(0,b.jsx)("th",{children:"USER"}),(0,b.jsx)("th",{children:"METHOD"}),(0,b.jsx)("th",{children:"DELIVERED"}),(0,b.jsx)("th",{className:"text-center",children:(0,b.jsx)(p.Z,{})})]})}),(0,b.jsx)("tbody",{children:E.map((function(e){return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:e.id}),(0,b.jsx)("td",{children:e.user.fullname}),(0,b.jsx)("td",{children:e.paymentMethod}),(0,b.jsx)("td",{children:e.deliveredAt?e.deliveredAt.substring(0,10):"Not Delivered Yet"}),(0,b.jsxs)("td",{children:[(0,b.jsx)(u.Z,{style:{color:"black",backgroundColor:"transparent",border:"none"},className:"btn-sm",children:(0,b.jsx)("i",{className:"fa fa-trash",onClick:function(){return function(e){var n=g.token;window.confirm("Are you sure you want to delete this order?")&&(T((0,h.FB)({orderId:e,token:n})),window.location.reload())}(e.id)},style:{fontSize:"1rem",color:"var(--bs-secondary)"}})}),!e.isDelivered&&(0,b.jsx)(u.Z,{variant:"light",className:"btn-sm",onClick:function(){!function(e){var n=g.token;window.confirm("Are you sure you want to change this order to delivered?")&&T((0,h.JF)({orderId:e,token:n}))}(e.id)},children:(0,b.jsx)("i",{className:"fa fa-edit",style:{fontSize:"1rem",color:"var(--bs-secondary)"},title:"Set To Delivered"})})]})]},e.id)}))})]})]})]})]})}},3360:function(e,n,r){var t=r(1413),a=r(9439),s=r(5987),i=r(1694),c=r.n(i),o=r(2791),d=r(5341),l=r(162),u=r(184),f=["as","bsPrefix","variant","size","active","className"],h=o.forwardRef((function(e,n){var r=e.as,i=e.bsPrefix,o=e.variant,h=e.size,v=e.active,m=e.className,x=(0,s.Z)(e,f),j=(0,l.vE)(i,"btn"),p=(0,d.FT)((0,t.Z)({tagName:r},x)),b=(0,a.Z)(p,2),Z=b[0],y=b[1].tagName;return(0,u.jsx)(y,(0,t.Z)((0,t.Z)((0,t.Z)({},Z),x),{},{ref:n,className:c()(m,j,v&&"active",o&&"".concat(j,"-").concat(o),h&&"".concat(j,"-").concat(h),x.href&&x.disabled&&"disabled")}))}));h.displayName="Button",h.defaultProps={variant:"primary",active:!1,disabled:!1},n.Z=h},7022:function(e,n,r){var t=r(1413),a=r(5987),s=r(1694),i=r.n(s),c=r(2791),o=r(162),d=r(184),l=["bsPrefix","fluid","as","className"],u=c.forwardRef((function(e,n){var r=e.bsPrefix,s=e.fluid,c=e.as,u=void 0===c?"div":c,f=e.className,h=(0,a.Z)(e,l),v=(0,o.vE)(r,"container"),m="string"===typeof s?"-".concat(s):"-fluid";return(0,d.jsx)(u,(0,t.Z)((0,t.Z)({ref:n},h),{},{className:i()(f,s?"".concat(v).concat(m):v)}))}));u.displayName="Container",u.defaultProps={fluid:!1},n.Z=u}}]);
//# sourceMappingURL=989.b58d2652.chunk.js.07d8b4cedf47.map